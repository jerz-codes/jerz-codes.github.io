<!DOCTYPE html>
<html lang="pl-pl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ZajÄ™cia 5: `&#34;&#34;&#34; &#34;&#34;&#34;`, `List&lt;&gt;`, KÃ³Å‚ko i KrzyÅ¼yk | jerz.codes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">ğŸ </a></li>
      
      <li><a href="/zapisy/">Zapisy</a></li>
      
      <li><a href="/faq/">FAQ</a></li>
      
      <li><a href="/kontakt/">Kontakt</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">ZajÄ™cia 5: <code>&quot;&quot;&quot; &quot;&quot;&quot;</code>, <code>List&lt;&gt;</code>, KÃ³Å‚ko i KrzyÅ¼yk</span></h1>

<h2 class="date">2022/11/15</h2>
</div>

<main>
<div>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#teksty-wielolinijkowe">Teksty wielolinijkowe</a></li>
    <li><a href="#listy">Listy</a>
      <ul>
        <li><a href="#podstawowe-operacje-na-listach">Podstawowe operacje na listach</a></li>
      </ul>
    </li>
    <li><a href="#lista-obecnoÅ›ci">&ldquo;Lista ObecnoÅ›ci&rdquo;</a>
      <ul>
        <li><a href="#list-vs-mutablelist"><code>List</code> vs <code>MutableList</code></a></li>
      </ul>
    </li>
    <li><a href="#kÃ³Å‚ko-i-krzyÅ¼yk">&ldquo;KÃ³Å‚ko i KrzyÅ¼yk&rdquo;</a>
      <ul>
        <li><a href="#stan-gry-czyli-model-danych">Stan gry, czyli model danych</a></li>
        <li><a href="#pseudokod">Pseudokod</a></li>
        <li><a href="#puste-funkcje">Puste funkcje</a></li>
        <li><a href="#integracja">Integracja</a></li>
        <li><a href="#wypeÅ‚nianie-dziur">WypeÅ‚nianie dziur</a>
          <ul>
            <li><a href="#rysowanie-planszy">Rysowanie planszy</a></li>
            <li><a href="#wczytanie-ruchu">Wczytanie ruchu</a></li>
            <li><a href="#wykonanie-ruchu">Wykonanie ruchu</a></li>
            <li><a href="#sprawdzenie-wyniku">Sprawdzenie wyniku</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#podsumowanie">Podsumowanie</a></li>
    <li><a href="#zadanie-do-domu">Zadanie do domu</a>
      <ul>
        <li><a href="#-dokoÅ„czenie-kÃ³Å‚ka-i-krzyÅ¼yk">#ï¸âƒ£ DokoÅ„czenie &ldquo;KÃ³Å‚ka i KrzyÅ¼yk&rdquo;</a></li>
      </ul>
    </li>
    <li><a href="#zadania-dodatkowe">Zadania dodatkowe</a>
      <ul>
        <li><a href="#1-lista-obecnoÅ›ci--wagarowicze">1ï¸âƒ£ Lista ObecnoÅ›ci â€“ Wagarowicze</a></li>
        <li><a href="#2-odwrÃ³cona-zgadula-">2ï¸âƒ£ OdwrÃ³cona &ldquo;Zgadula&rdquo; â­ï¸</a></li>
        <li><a href="#3-kÃ³Å‚ko-i-krzyÅ¼yk-single-player-vs-noob-">3ï¸âƒ£ KÃ³Å‚ko i KrzyÅ¼yk single player vs. noob â­ï¸</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>
<h1 id="teksty-wielolinijkowe">Teksty wielolinijkowe</h1>
<p>Przypuszczam, Å¼e wiÄ™kszoÅ›Ä‡ z was napisaÅ‚a zadany na ostatnich zajÄ™ciach program &ldquo;Kostka do gry&rdquo; mniej-wiÄ™cej w ten sposÃ³b:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">rysujKostkÄ™</span>(oczka: Int) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">when</span> (oczka) {
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">1</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            println(<span style="color:#e6db74">&#34;+---+&#34;</span>)
</span></span><span style="display:flex;"><span>            println(<span style="color:#e6db74">&#34;|   |&#34;</span>)
</span></span><span style="display:flex;"><span>            println(<span style="color:#e6db74">&#34;| o |&#34;</span>)
</span></span><span style="display:flex;"><span>            println(<span style="color:#e6db74">&#34;|   |&#34;</span>)
</span></span><span style="display:flex;"><span>            println(<span style="color:#e6db74">&#34;+---+&#34;</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// itd.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ZwykÅ‚e teksty tworzone w kodzie, <code>&quot;taki jak ten&quot;</code>, muszÄ… zaczynaÄ‡ siÄ™ i koÅ„czyÄ‡ w tej samej linii. Tekst ograniczony z dwÃ³ch stron potrÃ³jnym cudzysÅ‚owem <code>&quot;&quot;&quot;</code> moÅ¼e obejmowaÄ‡ kilka linii:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">rysujKostkÄ™</span>(oczka: Int) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">when</span> (oczka) {
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">1</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            println(
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                +---+
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                |   |
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                | o |
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                |   |
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                +---+
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// itd.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Problem natomiast jest taki, Å¼e wciÄ™cia w kodzie, uÅ¼yte po to, aby nasz kod byÅ‚ czytelniejszy, bÄ™dÄ… pomieszane ze wciÄ™ciami w naszym wielolinijkowym tekÅ›cie. ChcielibyÅ›my, aby nasza kostka wyrysowana zostaÅ‚a przy lewej krawÄ™dzi ekranu, ale zamiast tego otrzymamy taki efekt:</p>
<p><img src="kostka-przesuniecie.png" alt="NieprawidÅ‚owo narysowana kostka"></p>
<p>Å»eby tego uniknÄ…Ä‡, moÅ¼emy dodaÄ‡ w naszym tekscie lewÄ… &ldquo;granicÄ™&rdquo; przy uÅ¼yciu znaczka <code>|</code> i uÅ¼yÄ‡ metody <code>trimMargin()</code>, ktÃ³ra &ldquo;dotnie&rdquo; tekst do tych znacznikÃ³w:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">rysujKostkÄ™</span>(oczka: Int) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">when</span> (oczka) {
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">1</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            println(
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                |+---+
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                ||   |
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                || o |
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                ||   |
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                |+---+
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &#34;&#34;&#34;</span>.trimMargin()
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// itd.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="kostka-docieta.png" alt="PrawidÅ‚owo narysowana kostka"></p>
<h1 id="listy">Listy</h1>
<p>Zanim bÄ™dziemy w stanie napisaÄ‡ kolejne gry, musimy poznaÄ‡ pierwszÄ…, podstawowÄ… strukturÄ™ danych: listÄ™.</p>
<p>Na szczÄ™Å›cie, jest to doÅ›Ä‡ intuicyjne pojÄ™cie: mamy kilka rzeczy, i jeÅ›li poukÅ‚adamy je w kolejnoÅ›ci, otrzymamy wÅ‚aÅ›nie listÄ™. W codziennym Å¼yciu znajdziecie duÅ¼o takich przykÅ‚adÃ³w: lista zakupÃ³w, lista obecnoÅ›ci w dzienniku, lista lekcji na waszym planie zajÄ™Ä‡, itd., itp.</p>
<p>Kotlinowe listy tworzymy przy uÅ¼yciu funkcji <code>listOf(â€¦)</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> uczniowie = listOf&lt;&gt;()
</span></span></code></pre></div><p>Pojawi siÄ™ tutaj coÅ› dziwnego: IntelliJ bÄ™dzie bardzo chciaÅ‚, Å¼ebyÅ›my napisali coÅ› wewnÄ…trz &ldquo;trÃ³jkÄ…tnych nawiasÃ³w&rdquo;, utworzonych ze znakÃ³w mniejszoÅ›ci i wiÄ™kszoÅ›ci. Chodzi o to, Å¼e funkcja <code>listOf()</code> bÄ™dzie tworzyÅ‚a listÄ™, ale musimy powiedzieÄ‡, czym bÄ™dÄ… elementy tej listy: czy bÄ™dÄ… to liczby, tekst, albo jeszcze coÅ› innego. Na naszej liÅ›cie bÄ™dziemy zamieszczaÄ‡ imiona uczniÃ³w, bÄ™dzie to zatem lista tekstÃ³w, a wiÄ™c <code>listOf&lt;String&gt;()</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> uczniowie = listOf&lt;String&gt;(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Adam&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Ania&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Bartek&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Julia&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Jurek&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Mieszko&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Olgierd&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Tytus&#34;</span>,
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>Po dodaniu imion <code>&lt;String&gt;</code> zmieni kolor na szary: IntelliJ daje nam w ten sposÃ³b znaÄ‡, Å¼e teraz juÅ¼ sam siÄ™ domyÅ›la, jaki jest typ elementÃ³w na liÅ›cie i moÅ¼na tÄ™ informacjÄ™ usunÄ…Ä‡.</p>
<h2 id="podstawowe-operacje-na-listach">Podstawowe operacje na listach</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// iloÅ›Ä‡ elementÃ³w na liÅ›cie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>println(uczniowie.size)                     <span style="color:#75715e">// 8
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// n-ty element z listy wyciÄ…gamy operatorem []
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>println(uczniowie[<span style="color:#ae81ff">1</span>])                       <span style="color:#75715e">// Ania
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// przy czym elementy numerowane sÄ… od 0!
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>println(uczniowie[<span style="color:#ae81ff">0</span>])                       <span style="color:#75715e">// Adam
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>println(uczniowie[<span style="color:#ae81ff">2</span>])                       <span style="color:#75715e">// Bartek
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// zakres poprawnych indeksÃ³w, ktÃ³rych moÅ¼emy uÅ¼yÄ‡ z operatorem []
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>println(uczniowie.indices)                  <span style="color:#75715e">// 0..7
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// wybranie losowej osoby z listy
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>println(uczniowie.random())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// sprawdzenie, czy element znajduje siÄ™ na liÅ›cie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>println(uczniowie.contains(<span style="color:#e6db74">&#34;Krzysztof&#34;</span>))    <span style="color:#75715e">// false, bo nie mamy KrzyÅ›ka na liÅ›cie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>println(uczniowie.contains(<span style="color:#e6db74">&#34;Adam&#34;</span>))         <span style="color:#75715e">// true, bo Adam jak najbardziej jest
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// wypisze wszystkich uczniÃ³w jedno pod drugim
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">for</span> (uczen <span style="color:#66d9ef">in</span> uczniowie) {
</span></span><span style="display:flex;"><span>    println(uczen)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="lista-obecnoÅ›ci">&ldquo;Lista ObecnoÅ›ci&rdquo;</h1>
<p>Czas na rozgrzewkÄ™ przed trudniejszym wyzwaniem: napiszmy program, ktÃ³ry wypisuje tekst, ktÃ³ry wyglÄ…da jak dialog nauczyciela z uczniami. Dla kaÅ¼dego ucznia na bÄ™dziemy &ldquo;rzucaÄ‡ kostkÄ…&rdquo;: jeÅ›li wypadnie jedno oczko, oznacza to, Å¼e uczeÅ„ jest nieobecny; inny wynik oznacza, Å¼e uczeÅ„ jest obecny:</p>
<p><img src="lista-obecnosci-1.png" alt="PoczÄ…tek programu &amp;ldquo;Lista obecnoÅ›ci&amp;rdquo;"></p>
<p>&ldquo;Rzut kostkÄ…&rdquo; to oczywiÅ›cie losowanie liczby z przedziaÅ‚u <code>1..6</code> przy uÅ¼yciu <code>fun IntRange.random(): Int</code>, tak jak w &ldquo;Zgaduli&rdquo;. Po sprawdzeniu obecnoÅ›ci nauczyciel moÅ¼e wywoÅ‚aÄ‡ kogoÅ› do odpowiedzi:</p>
<p><img src="lista-obecnosci-2.png" alt="PoczÄ…tek programu &amp;ldquo;Lista obecnoÅ›ci&amp;rdquo;"></p>
<h2 id="list-vs-mutablelist"><code>List</code> vs <code>MutableList</code></h2>
<p>JeÅ›li wykonamy nasz program w obecnej formie, moÅ¼e dojÅ›Ä‡ do krÄ™pujÄ…cej sytuacji: nauczyciel moÅ¼e wywoÅ‚aÄ‡ do odpowiedzi nieobecnÄ… osobÄ™. Moja propozycja na rozwiÄ…zanie tego problemu to utworzenie drugiej listy, do ktÃ³rej bÄ™dziemy dodawaÄ‡ tylko obecnych uczniÃ³w.</p>
<p>JeÅ›li zdefiniujemy tÄ™ drugÄ… listÄ™ jako <code>val obecni = listOf&lt;String&gt;()</code>, czeka nas przykra niespodzianka: nie znajdziemy Å¼adnej metody w stylu <code>add</code>, <code>insert</code>, ani nic takiego.</p>
<p>W Kotlinie standardowe listy sÄ… &ldquo;staÅ‚e&rdquo;, nie moÅ¼na zmieniaÄ‡ ich zawartoÅ›ci po ich utworzeniu. JeÅ›li potrzebujemy listy, ktÃ³rÄ… bÄ™dzie moÅ¼na w dowolny sposÃ³b zmieniaÄ‡ w dalszej czÄ™Å›ci programu, musimy stworzyÄ‡ inny obiekt: <code>mutableListOf&lt;String&gt;()</code>. Nie chodzi tu o Å¼adne mutanty z horrorÃ³w z trzeciÄ… rÄ™kÄ… wyrastajÄ…cÄ… z plecÃ³w, po prostu &ldquo;<em>mutable</em>&rdquo; oznacza po angielsku &ldquo;<em>zmienny</em>&rdquo;. Ten podziaÅ‚ na zmienne/niezmienne struktury danych moÅ¼e wydawaÄ‡ wam siÄ™ dziwny, ale jest to bardzo dobry pomysÅ‚, ktÃ³ry zapobiega wielu rodzajom bÅ‚Ä™dÃ³w.</p>
<p>PosÅ‚uÅ¼Ä™ siÄ™ kolejnym porÃ³wnaniem: zwykÅ‚a, niezmienna <code>List</code> to jak kamienna tablica z wyrytymi napisami: raczej ciÄ™Å¼ko zmieniÄ‡ ich zawartoÅ›Ä‡. &ldquo;Zmienialna&rdquo; <code>MutableList</code> jest jak pociÄ…g: moÅ¼na doczepiÄ‡ do niego wiÄ™cej wagonÃ³w, albo jakieÅ› odczepiÄ‡, moÅ¼na teÅ¼ zmieniÄ‡ zawartoÅ›Ä‡ wagonu.</p>
<p>WaÅ¼ne jest teÅ¼ to, Å¼e mutowalnoÅ›Ä‡ (bÄ…dÅº niemutowalnoÅ›Ä‡) listy nie ma nic wspÃ³lnego z tym, czy nasza lista jest przypisana do zmiennej, czy staÅ‚ej:</p>
<ul>
<li><code>val list = listOf(â€¦)</code>: kamienne tablice z metkÄ…</li>
<li><code>var list = listOf(â€¦)</code>: pudeÅ‚ko na kamienne tablice</li>
<li><code>val list = mutableListOf(â€¦)</code>: pociÄ…g z metkÄ…</li>
<li><code>var list = mutableListOf(â€¦)</code>: pudeÅ‚ko na pociÄ…gi</li>
</ul>
<p>Do <code>MutableList</code> moÅ¼emy dodawaÄ‡ elementy metodÄ… <code>add()</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> obecni = mutableListOf&lt;String&gt;()
</span></span><span style="display:flex;"><span>obecni.add(<span style="color:#e6db74">&#34;Krzysztof Jarzyna&#34;</span>)
</span></span></code></pre></div><p>A przy uÅ¼yciu operatora <code>[]</code> moÅ¼emy zmieniaÄ‡ ich zawartoÅ›Ä‡:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> superLiczby = mutableListOf(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>superLiczby[<span style="color:#ae81ff">0</span>] = <span style="color:#ae81ff">42</span> <span style="color:#75715e">// po tej zmianie lista bÄ™dzie zawieraÄ‡ liczby 42, 2, 3, 4 
</span></span></span></code></pre></div><h1 id="kÃ³Å‚ko-i-krzyÅ¼yk">&ldquo;KÃ³Å‚ko i KrzyÅ¼yk&rdquo;</h1>
<p>Pora na prawdziwe wyzwanie: grÄ™ w kÃ³Å‚ko i krzyÅ¼yk!</p>
<p><img src="xo.png" alt="Program &amp;ldquo;KÃ³Å‚ko i KrzyÅ¼yk&amp;rdquo;"></p>
<p>Da siÄ™ ten program napisaÄ‡, wykorzystujÄ…c tylko to, czego nauczyliÅ›my siÄ™ do tej pory, ale najprawdopodobniej nie macie pojÄ™cia jak siÄ™ za to zabraÄ‡. ProponujÄ™ podzieliÄ‡ pracÄ™ na nastÄ™pujÄ…ce kroki:</p>
<ul>
<li>Stan gry</li>
<li>Pseudokod</li>
<li>Puste funkcje</li>
<li>Integracja</li>
<li>WypeÅ‚nianie dziur</li>
</ul>
<h2 id="stan-gry-czyli-model-danych">Stan gry, czyli model danych</h2>
<p>ZastanÃ³wmy siÄ™, jakiego typu danych bÄ™dziemy uÅ¼ywaÄ‡ do przechowywania stanu gry. Przy grze w kÃ³Å‚ko i krzyÅ¼yk musimy jakoÅ› zapisaÄ‡ dwie rzeczy:</p>
<ul>
<li>Co jest na planszy</li>
<li>Kto jest aktywnym graczem</li>
</ul>
<p>ProponujÄ™, aby planszÄ™ zapisaÄ‡ na 9-elementowej liÅ›cie <code>String</code>Ã³w (nie jest to najbardziej odpowiednia struktura danych, ale na razie nie poznaliÅ›my mechanizmÃ³w jÄ™zyka, ktÃ³re pozwoliÅ‚yby nam lepiej rozwiÄ…zaÄ‡ ten problem), zawierajÄ…cych <code>&quot;X&quot;</code>, <code>&quot;O&quot;</code>, albo <code>&quot;.&quot;</code> (dla pustego pola). BÄ™dziemy zmieniaÄ‡ zawartoÅ›Ä‡ tej listy, wiÄ™c trzeba uÅ¼yÄ‡ <code>MutableList</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> plansza = mutableListOf&lt;String&gt;()
</span></span><span style="display:flex;"><span><span style="color:#75715e">// dodajemy dziewiÄ™Ä‡ &#34;.&#34; reprezentujÄ…cych puste pola na planszy
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">for</span> (i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1.</span>.<span style="color:#ae81ff">9</span>) {
</span></span><span style="display:flex;"><span>    plansza.add(<span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>BÄ™dziemy musieli zdecydowaÄ‡ ktÃ³re elementy naszej listy odpowiadajÄ… poszczegÃ³lnym polom na planszy. W zasadzie nie ma wiÄ™kszego znaczenia, jaki obierzemy system, ale dobrze by byÅ‚o, gdyby byÅ‚ on choÄ‡ trochÄ™ intuicyjny: bÄ™dzie Å‚atwiej nam pÃ³Åºniej napisaÄ‡ resztÄ™ programu. ProponujÄ™ obraÄ‡ nastÄ™pujÄ…cÄ… numeracjÄ™:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span> 0 | 1 | 2
</span></span><span style="display:flex;"><span>---+---+---
</span></span><span style="display:flex;"><span> 3 | 4 | 5
</span></span><span style="display:flex;"><span>---+---+---
</span></span><span style="display:flex;"><span> 6 | 7 | 8
</span></span></code></pre></div><p>Czyli stan lewego gÃ³rnego pola bÄ™dziemy trzymali w pierwszym elemencie naszej listy (o indeksie <code>0</code>), prawe pole bÄ™dzie miaÅ‚o ma indeks <code>5</code>, a dolne - <code>7</code>.</p>
<p>Aktywnego gracza teÅ¼ moÅ¼emy trzymaÄ‡ jako <code>String</code>: <code>&quot;X&quot;</code> albo <code>&quot;O&quot;</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> tura = <span style="color:#e6db74">&#34;O&#34;</span>
</span></span></code></pre></div><h2 id="pseudokod">Pseudokod</h2>
<p>Gwoli przypomnienia: <strong>pseudokod</strong> to tekstowy opis programu poszczegÃ³lnych krokÃ³w programu. Na podstawie screenshota, dla gry &ldquo;KÃ³Å‚ko i KrzyÅ¼yk&rdquo; moÅ¼na stworzyÄ‡ nastÄ™pujÄ…cy pseudokod:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// narysuj planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// wczytaj z klawiatury ruch gracza
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// nanieÅ› ruch na planszÄ™
</span></span></span></code></pre></div><p>Te trzy rzeczy powinny powtarzaÄ‡ siÄ™ do koÅ„ca gry:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// powtarzaj:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// narysuj planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// wczytaj z klawiatury ruch gracza
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// nanieÅ› ruch na planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// doputy, dopÃ³ki gra siÄ™ nie skoÅ„czyÅ‚a
</span></span></span></code></pre></div><p>Musimy teÅ¼ pamiÄ™taÄ‡ o tym, Å¼e ludzie mogÄ… wpisaÄ‡ z klawiatury dziwne rzeczy:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// powtarzaj:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// narysuj planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// wczytaj z klawiatury ruch gracza
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// jeÅ›li wczytany ruch jest prawidÅ‚owy  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// nanieÅ› ruch na planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// doputy, dopÃ³ki gra siÄ™ nie skoÅ„czyÅ‚a
</span></span></span></code></pre></div><p>Na koniec wypadaÅ‚oby wypisaÄ‡ wynik:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// powtarzaj:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// narysuj planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// wczytaj z klawiatury ruch gracza
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// jeÅ›li wczytany ruch jest prawidÅ‚owy  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// nanieÅ› ruch na planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// doputy, dopÃ³ki gra siÄ™ nie skoÅ„czyÅ‚a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// wypisz wynik
</span></span></span></code></pre></div><h2 id="puste-funkcje">Puste funkcje</h2>
<p>W naszym pseudokodzie znajdujÄ… siÄ™ doÅ›Ä‡ ogÃ³lnikowe stwierdzenia, jak np.: &ldquo;narysuj planszÄ™&rdquo;. BÄ™dziemy potrzebowali do tego kilku instrukcji, wiÄ™c Å¼eby nie zawalaÄ‡ sobie funkcji <code>main</code>, proponujÄ™ stworzenie osobnej funkcji <code>narysujPlansze(plansza: List&lt;String&gt;)</code>. DziÄ™ki temu kod naszego <code>main</code>a stanie siÄ™ duÅ¼o czytelniejszy: bÄ™dzie przypominaÅ‚ pseudokod, a wszystkie szczegÃ³Å‚y i szczegÃ³liki bÄ™dÄ… zamkniÄ™te w osobnej funkcji. Na razie nie bÄ™dziemy pisaÄ‡ wnÄ™trza (czyli inaczej <strong>ciaÅ‚a</strong> funkcji), stworzymy tylko pusty &ldquo;szkielet&rdquo; funkcji, ktÃ³ry bÄ™dziemy wypeÅ‚niaÄ‡ pÃ³Åºniej:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">narysujPlansze</span>(plansza: List&lt;String&gt;) {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Podobnie postÄ…pimy z kolejnymi funkcjami. W przypadku funkcji, ktÃ³re powinny coÅ› zwracaÄ‡, dodamy w ciele funkcji pojedynczy <code>return</code> z byle jakÄ… wartoÅ›ciÄ… â€“ tylko tyle, Å¼eby IntelliJ nie bazgraÅ‚ nam na czerwono.</p>
<p>IdÄ…c dalej tym tropem, powinniÅ›my teÅ¼ stworzyÄ‡ funkcjÄ™ <code>wczytajRuch()</code>. Nazwa tej funkcji sugeruje, Å¼e powinniÅ›my z niej zwrÃ³ciÄ‡ &ldquo;ruch&rdquo;, ktÃ³ry chce wykonaÄ‡ aktywny gracz (podobnie jak <code>readln()</code>, czyli z angielskiego <em>read line</em>, wczytuje liniÄ™ i zwraca jÄ…). ProponujÄ™, Å¼eby reprezentowaÄ‡ &ldquo;ruch gracza&rdquo; jako <code>Int</code>, odpowiadajÄ…cy indeksowi danego pola na naszej liÅ›cie <code>plansza</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span> 0 | 1 | 2
</span></span><span style="display:flex;"><span>---+---+---
</span></span><span style="display:flex;"><span> 3 | 4 | 5
</span></span><span style="display:flex;"><span>---+---+---
</span></span><span style="display:flex;"><span> 6 | 7 | 8
</span></span></code></pre></div><p>Jak zawsze, gdy wczytujemy tekst z klawiatury, musimy byÄ‡ gotowi na to, Å¼e uÅ¼ytkownicy wpiszÄ… jakieÅ› totalne bzdury. W takich przypadkach nasza funkcja <code>wczytajRuch()</code> moÅ¼e zwrÃ³ciÄ‡ <code>null</code>, a wiÄ™c zwracanym typem powinien byÄ‡ opcjonalny <code>Int?</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wczytajRuch</span>(): Int? { 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Kolejna rzecz do zrobienia to sprawdzenie poprawnoÅ›ci ruchu i naniesienie go na planszÄ™. MoÅ¼na to zawrzeÄ‡ w jednej funkcji: <code>wykonajRuch(ruch: Int?, plansza: MutableList&lt;String&gt;, gracz: String): String</code>. JeÅ›li ruch jest poprawny i zostaÅ‚ naniesiony na planszÄ™, powinniÅ›my zmieniÄ‡ aktywnego gracza. Do tego wÅ‚aÅ›nie sÅ‚uÅ¼yÄ‡ bÄ™dzie wartoÅ›Ä‡ zwracana z tej funkcji.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wykonajRuch</span>(ruch: Int?, plansza: MutableList&lt;String&gt;, gracz: String): String { 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> gracz  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>NajtrudniejszÄ… funkcjÄ… do napisania w naszym programie bÄ™dzie sprawdzenie wyniku gry: <code>wynik(plansza: List&lt;String&gt;): String?</code>. ZnÃ³w mamy do czynienia z opcjonalnym typem zwracanym: niech nasza funkcja zwraca <code>&quot;X&quot;</code> bÄ…dÅº <code>&quot;O&quot;</code> w przypadku wygranej jednego z graczy, <code>&quot;.&quot;</code> jeÅ›li bÄ™dzie remis, albo <code>null</code>, jeÅ›li gra jeszcze nie zostaÅ‚a rozstrzygniÄ™ta:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wynik</span>(plansza: List&lt;String&gt;): String? { 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Ostatnia funkcja, ktÃ³ra bÄ™dzie nam potrzebna, sÅ‚uÅ¼yÄ‡ bÄ™dzie do wypisania wyniku gry:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wypiszWynik</span>(plansza: List&lt;String&gt;) {
</span></span><span style="display:flex;"><span>}  
</span></span></code></pre></div><h2 id="integracja">Integracja</h2>
<p>Kolejnym krokiem jest sprawdzenie, jak wszystkie wymyÅ›lone przez nas funkcje Å‚Ä…czÄ… siÄ™ w caÅ‚oÅ›Ä‡ i czy niczego nam nie brakuje. Na tym etapie powinniÅ›my mieÄ‡ mniej-wiÄ™cej coÅ› takiego:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>() = terminal {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ---------- KROK 1: STAN GRY -----------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> plansza = mutableListOf&lt;String&gt;()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1.</span>.<span style="color:#ae81ff">9</span>) {
</span></span><span style="display:flex;"><span>        plansza.add(<span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> tura = <span style="color:#e6db74">&#34;O&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ---------- KROK 2: PSEUDOKOD ---------- 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// powtarzaj:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// narysuj planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// wczytaj z klawiatury ruch gracza
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// jeÅ›li wczytany ruch jest prawidÅ‚owy  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// nanieÅ› ruch na planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// doputy, dopÃ³ki gra siÄ™ nie skoÅ„czyÅ‚a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// wypisz wynik
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ---------- KROK 3: PUSTE FUNKCJE ---------- 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">narysujPlansze</span>(plansza: List&lt;String&gt;) {
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wczytajRuch</span>(): Int? {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wykonajRuch</span>(ruch: Int?, plansza: MutableList&lt;String&gt;, gracz: String): String {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> gracz
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wynik</span>(plansza: List&lt;String&gt;): String? {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wypiszWynik</span>(plansza: List&lt;String&gt;) {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>MoÅ¼emy zaczÄ…Ä‡ zastÄ™powaÄ‡ pseudokod prawdziwym kodem. &ldquo;Powtarzaj czynnoÅ›Ä‡, dopÃ³ki jakiÅ› warunek jest speÅ‚niony&rdquo; to tekstowy opis pÄ™tli <code>doâ€¦while</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>    <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// narysuj planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// wczytaj z klawiatury ruch gracza
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// jeÅ›li wczytany ruch jest prawidÅ‚owy  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// nanieÅ› ruch na planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    } <span style="color:#66d9ef">while</span> (wynik(plansza) <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// wypisz wynik
</span></span></span></code></pre></div><p>UstaliliÅ›my wczeÅ›niej, Å¼e funkcja <code>wynik(â€¦)</code> bÄ™dzie zwracaÄ‡ <code>null</code> dla gry, ktÃ³ra nie zostaÅ‚a jeszcze rozstrzygniÄ™ta, wiÄ™c &ldquo;gra trwa dalej&rdquo; to <code>wynik(plansza) == null</code>.</p>
<p>ParÄ™ innych linijek pseudokodu teÅ¼ da siÄ™ doÅ›Ä‡ Å‚atwo zastÄ…piÄ‡ wywoÅ‚aniem pojedynczej funkcji:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>    <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>        narysujPlansze(plansza)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">val</span> ruch = wczytajRuch()
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// jeÅ›li wczytany ruch jest prawidÅ‚owy  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// nanieÅ› ruch na planszÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    } <span style="color:#66d9ef">while</span> (wynik(plansza) <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>)
</span></span><span style="display:flex;"><span>    wypiszWynik(plansza)
</span></span></code></pre></div><p>Ostatni kawaÅ‚ek pseudokodu moÅ¼e byÄ‡ troszkÄ™ trudniejszy do zastÄ…pienia. Obydwie rzeczy â€“ sprawdzenie poprawnoÅ›ci ruchu i naniesienie go na planszÄ™ â€“ zaÅ‚atwiane sÄ… przez jednÄ… funkcjÄ™ <code>wykonajRuch</code>. Ponadto, &ldquo;naniesienie ruchu na planszÄ™&rdquo; powinno teÅ¼ zmieniÄ‡ aktywnego gracza. Dlatego teÅ¼ nasza funkcja <code>wykonajRuch</code> zwraca informacjÄ™, czyja bÄ™dzie nastÄ™pna tura i musimy tÄ™ wartoÅ›Ä‡ przypisaÄ‡ do zmiennej <code>tura</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>    <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>        narysujPlansze(plansza)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">val</span> ruch = wczytajRuch()
</span></span><span style="display:flex;"><span>        tura = wykonajRuch(ruch, plansza, tura)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">while</span> (wynik(plansza) <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>)
</span></span><span style="display:flex;"><span>    wypiszWynik(plansza)
</span></span></code></pre></div><h2 id="wypeÅ‚nianie-dziur">WypeÅ‚nianie dziur</h2>
<p>Funkcja <code>main</code> jest gotowa, musimy &ldquo;tylko&rdquo; ğŸ˜¬ napisaÄ‡ kod pozostaÅ‚ych funkcji.</p>
<p>KaÅ¼dÄ… funkcjÄ™ moÅ¼ecie potraktowaÄ‡ jako osobny, maÅ‚y programik i przechodziÄ‡ przez ten sam proces, co w przypadku gÅ‚Ã³wnego programu: zaczynamy od pseudokodu, tworzymy pomocnicze funkcje (jeÅ›li bÄ™dzie taka potrzeba), a na koÅ„cu zastÄ™pujemy pseudokod prawdziwym kodem.</p>
<p>MoÅ¼ecie chcieÄ‡ przetestowaÄ‡ jakÄ…Å› drobniejszÄ… czÄ™Å›Ä‡ programu, np.: tylko funkcjÄ™ <code>narysujPlansze</code>. Najprostszym sposobem na zrobienie tego bÄ™dzie zmiana nazwy obecnej funkcji <code>main</code> na coÅ› innego i napisanie nowego <code>main</code>a, zawierajÄ…cego tylko to, co chcemy sprawdziÄ‡:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>() = terminal {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> plansza = mutableListOf&lt;String&gt;()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1.</span>.<span style="color:#ae81ff">9</span>) {
</span></span><span style="display:flex;"><span>        plansza.add(<span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    narysujPlansze(plansza)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// stara funkcja main ze zmienionÄ… nazwÄ…
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">xo</span>() = terminal {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// dwa i pÃ³Å‚ kilo kodu 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">narysujPlansze</span>(plansza: List&lt;String&gt;) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// kolejne pÃ³Å‚ kilo kodu
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h3 id="rysowanie-planszy">Rysowanie planszy</h3>
<p>Programowanie bywa kÅ‚opotliwe, poniewaÅ¼ nawet najprostsze czynnoÅ›ci trzeba bardzo precyzyjnie wytÅ‚umaczyÄ‡. Dla czÅ‚owieka polecenie &ldquo;narysuj planszÄ™ do gry w kÃ³Å‚ko i krzyÅ¼yk&rdquo; jest proste i oczywiste, dla komputera jest to niezrozumiaÅ‚e i niewykonalne. Musimy wytÅ‚umaczyÄ‡ po kolei. KaÅ¼dy. Najmniejszy. Kroczek.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">narysujPlansze</span>(plansza: List&lt;String&gt;) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// narysuj lewe-gÃ³rne pole
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// narysuj gÃ³rne pole
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// narysuj prawe-gÃ³rne pole
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// przejdÅº do nastÄ™pnej linijki
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// narysuj lewe pole
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// narysuj Å›rodkowe pole
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// narysuj prawe pole
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// przejdÅº do nastÄ™pnej linijki
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// narysuj lewe-dolne pole
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// narysuj dolne pole
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// narysuj prawe-dolne pole
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// przejdÅº do nastÄ™pnej linijki
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>&ldquo;PrzejdÅº do nastÄ™pnej linijki&rdquo; to <code>println()</code>. &ldquo;Narysuj jakieÅ›tam pole&rdquo; to wypisanie jednego elementu z listy metodÄ… <code>print()</code>. Musicie tylko pamiÄ™taÄ‡ sposÃ³b indeksowania pÃ³l, ktÃ³ry przyjÄ™liÅ›my wczeÅ›niej:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span> 0 | 1 | 2
</span></span><span style="display:flex;"><span>---+---+---
</span></span><span style="display:flex;"><span> 3 | 4 | 5
</span></span><span style="display:flex;"><span>---+---+---
</span></span><span style="display:flex;"><span> 6 | 7 | 8
</span></span></code></pre></div><p>JeÅ›li chcecie upchnÄ…Ä‡ to samo w mniejszej liczbie linijek kodu, moÅ¼ecie uÅ¼yÄ‡ szablonÃ³w tekstu, albo tekstÃ³w wielolinijkowych, ale prosta seria <code>print</code>Ã³w i <code>println</code>&lsquo;Ã³w teÅ¼ zrobi robotÄ™.</p>
<h3 id="wczytanie-ruchu">Wczytanie ruchu</h3>
<p>Wczytanie ruchu z klawiatury to oczywiÅ›cie <code>readln()</code>. Podobnie jak musieliÅ›my przyjÄ…Ä‡ jakiÅ› system indeksowania elementÃ³w na planszy, musimy przyjÄ…Ä‡ jakiÅ› zestaw komend do sterowania naszÄ… grÄ…. ProponujÄ™ wybraÄ‡ jakiÅ› w miarÄ™ kwadratowy obszar na klawiaturze (np.: literki <code>qweasdzxc</code>, albo klawiaturÄ™ numerycznÄ… z prawej strony, jeÅ›li ktoÅ› ma peÅ‚nÄ… klawiaturÄ™ w swoim laptopie) i przypisaÄ‡ jednÄ… literkÄ™ do jednego pola planszy:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span> q | w | e          0 | 1 | 2 
</span></span><span style="display:flex;"><span>---+---+---        ---+---+---
</span></span><span style="display:flex;"><span> a | s | d    =&gt;    3 | 4 | 5 
</span></span><span style="display:flex;"><span>---+---+---        ---+---+---
</span></span><span style="display:flex;"><span> z | x | c          6 | 7 | 8 
</span></span></code></pre></div><p>Czyli literka <code>q</code> odpowiadaÄ‡ bÄ™dzie lewemu-gÃ³rnemu rogowi planszy. Nasz pseudokod bÄ™dzie wyglÄ…daÅ‚ nastÄ™pujÄ…co:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wczytajRuch</span>(): Int? { 
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// wczytaj tekst z klawiatury
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// jeÅ›li wczytany tekst
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// to literka q, to zwrÃ³Ä‡ indeks lewego-gÃ³rnego pola planszy 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// to literka w, to zwrÃ³Ä‡ indeks gÃ³rnego pola planszy
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// â€¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// w przeciwnym razie to nie moÅ¼e byÄ‡ poprawny ruch, wiÄ™c zwrÃ³Ä‡ null  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>MoÅ¼na teÅ¼ dodaÄ‡ szczyptÄ™ <code>println()</code> i <code>print()</code>&lsquo;Ã³w, Å¼eby poprawiÄ‡ wyglÄ…d naszej gry.</p>
<h3 id="wykonanie-ruchu">Wykonanie ruchu</h3>
<p>WczytaliÅ›my ruch, mamy indeks pola, ktÃ³re wybraÅ‚ gracz (lub <code>null</code>, jeÅ›li wpisaÅ‚ gÅ‚upoty), musimy teraz zajÄ…Ä‡ siÄ™ naniesieniem ruchu na planszÄ™ i zwrÃ³ceniem informacji czyj bÄ™dzie nastÄ™pny ruch:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wykonajRuch</span>(ruch: Int?, plansza: MutableList&lt;String&gt;, gracz: String): String {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// jeÅ›li gracz wpisaÅ‚ jakieÅ› bzdury
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// nie zmieniamy tury i od razu koÅ„czymy tÄ™ funkcjÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// jeÅ›li gracz prÃ³buje postawiÄ‡ swÃ³j znaczek na zajÄ™tym polu
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// nie zmieniamy tury i od razu koÅ„czymy tÄ™ funkcjÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// jeÅ›li gracz prÃ³buje postawiÄ‡ swÃ³j znaczek na pustym polu
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// wstawiamy tam jego znaczek
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// zmieniamy turÄ™ na drugiego gracza
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>&ldquo;Nie zmieniamy tury i koÅ„czymy funkcjÄ™&rdquo; to po prostu <code>return gracz</code>. &ldquo;Zmiana tury na drugiego gracza&rdquo; to <code>ifâ€¦else</code>, ktÃ³ry zwrÃ³ci <code>&quot;X&quot;</code>, jeÅ›li obecnym graczem jest <code>&quot;O&quot;</code> i vice versa.</p>
<h3 id="sprawdzenie-wyniku">Sprawdzenie wyniku</h3>
<p>To chyba najtrudniejsza funkcja w naszym programie, postarajmy siÄ™ wiÄ™c rozbiÄ‡ jÄ… na drobniutkie kroczki:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wynik</span>(plansza: List&lt;String&gt;): String? {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// jeÅ›li ktoÅ› wygraÅ‚, zwrÃ³Ä‡ jego symbol
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ok, doszedÅ‚em do tego miejsca w kodzie, czyli nikt nie wygraÅ‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// w takim razie albo jest remis, albo gra toczy siÄ™ dalej
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>PamiÄ™tajcie, Å¼e komputer potrafi wykonaÄ‡ miliardy operacji w ciÄ…gu sekundy, ale nie wykazuje siÄ™ Å¼adnÄ… inicjatywÄ… ani samodzielnym myÅ›leniem. &ldquo;JeÅ›li ktoÅ› wygraÅ‚&rdquo; musimy rozbiÄ‡ na super drobne kroczki:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wynik</span>(plansza: List&lt;String&gt;): String? {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// jeÅ›li ktoÅ› postawiÅ‚ trzy takie same znaczki w gÃ³rnym rzÄ…dku, zwrÃ³Ä‡ jego symbol
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// jeÅ›li ktoÅ› postawiÅ‚ trzy takie same znaczki w Å›rodkowym rzÄ…dku, zwrÃ³Ä‡ jego symbol
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// jeÅ›li ktoÅ› postawiÅ‚ trzy takie same znaczki w dolnym rzÄ…dku, zwrÃ³Ä‡ jego symbol
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// jeÅ›li ktoÅ› postawiÅ‚ trzy takie same znaczki w lewej kolumnie, zwrÃ³Ä‡ jego symbol
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// jeÅ›li ktoÅ› postawiÅ‚ trzy takie same znaczki w Å›rodkowej kolumnie, zwrÃ³Ä‡ jego symbol
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// jeÅ›li ktoÅ› postawiÅ‚ trzy takie same znaczki w prawej kolumnie, zwrÃ³Ä‡ jego symbol
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// jeÅ›li ktoÅ› postawiÅ‚ trzy takie same znaczki w przekÄ…tnej \, zwrÃ³Ä‡ jego symbol
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// jeÅ›li ktoÅ› postawiÅ‚ trzy takie same znaczki w przekÄ…tnej /, zwrÃ³Ä‡ jego symbol
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ok, doszedÅ‚em do tego miejsca w kodzie, czyli nikt nie wygraÅ‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// w takim razie albo jest remis, albo gra toczy siÄ™ dalej
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>OczywiÅ›cie &ldquo;jeÅ›li ktoÅ› postawiÅ‚ trzy takie same znaczki w gÃ³rnym rzÄ…dku&rdquo; teÅ¼ jest dla komputera zbyt abstrakcyjnym zdaniem, trzeba to rozbiÄ‡ jeszcze bardziej:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>    <span style="color:#75715e">// jeÅ›li:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// lewy gÃ³rny symbol, prawy gÃ³rny symbol i gÃ³rny symbol sÄ… takie same
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// i nie jest to &#34;.&#34; (bo sprawdzamy, czy ktoÅ› postawiÅ‚ tam &#34;X&#34; albo &#34;O&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// to zwrÃ³Ä‡ ten symbol.
</span></span></span></code></pre></div><p>W Kotlinie nie moÅ¼na porÃ³wnaÄ‡ naraz trzech wartoÅ›ci, musimy wiÄ™c rozbiÄ‡ to na dwa porÃ³wnania i poÅ‚Ä…czyÄ‡ je operatorem <code>&amp;&amp;</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>    <span style="color:#75715e">// jeÅ›li:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// (gÃ³rny symbol == lewy gÃ³rny symbol) &amp;&amp; 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// (gÃ³rny symbol == prawy gÃ³rny symbol) &amp;&amp; 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// (gÃ³rny symbol != &#34;.&#34;) 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// to zwrÃ³Ä‡ gÃ³rny symbol
</span></span></span></code></pre></div><p>MyÅ›lÄ™, Å¼e z takim pseudokodem do warunkÃ³w wygranej powinniÅ›cie daÄ‡ sobie radÄ™.</p>
<hr>
<p>WeÅºmy na warsztat drugÄ… czÄ™Å›Ä‡ pseudokodu: sprawdzenie, czy jest remis, czy gra toczy siÄ™ dalej. MoÅ¼na sprÃ³bowaÄ‡ to rozbiÄ‡ na dwa sposoby:</p>
<ul>
<li>&ldquo;Gra toczy siÄ™ dalej, jeÅ›li na planszy jest jakieÅ› puste pole&rdquo;</li>
<li>&ldquo;Gra zakoÅ„czyÅ‚a siÄ™ remisem, jeÅ›li wszystkie pola na planszy sÄ… zajÄ™te i gra nie zakoÅ„czyÅ‚a siÄ™ wygranÄ…&rdquo;</li>
</ul>
<p>Zdecydowanie prostsza do napisania bÄ™dzie pierwsza wersja:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>    <span style="color:#75715e">// popatrz po kolei na wszystkie pola
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// jeÅ›li pole jest puste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// gra toczy siÄ™ dalej
</span></span></span></code></pre></div><p>Tak wiÄ™c pseudokod naszej funkcji finalnie bÄ™dzie wyglÄ…daÅ‚ nastÄ™pujÄ…co:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wynik</span>(p: List&lt;String&gt;): String? {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// sprawdzÄ™, czy ktoÅ› wygraÅ‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// â€¦ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// 8 dÅ‚ugaÅ›nych warunkÃ³w zwyciÄ™stwa
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// â€¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ok, doszedÅ‚em do tego miejsca w kodzie, czyli nikt nie wygraÅ‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// popatrz po kolei na wszystkie pola planszy
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// jeÅ›li pole jest puste
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// gra toczy siÄ™ dalej, zwrÃ³Ä‡ null
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// gra siÄ™ zakoÅ„czyÅ‚a, ale nikt nie wygraÅ‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// w takim razie jest remis
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>JeÅ›li doczytaliÅ›cie do tego momentu, wyÅ›lijcie do mnie na Slacku wiadomoÅ›Ä‡ o treÅ›ci &ldquo;Å»yrafy wchodzÄ… do szafy&rdquo;.</p>
<p>ZmieniÅ‚em teÅ¼ nazwÄ™ parametru funkcji na <code>p</code>: zazwyczaj jestem zwolennikiem dÅ‚uÅ¼szych nazw, ktÃ³re lepiej opisujÄ… obiekt, ale w tym przypadku kod bÄ™dzie duÅ¼o czytelniejszy, jeÅ›li uÅ¼yjemy krÃ³tkiej, jednoliterowej nazwy.</p>
<h1 id="podsumowanie">Podsumowanie</h1>
<ul>
<li>MoÅ¼emy zdefiniowaÄ‡ wielolinijkowy tekst przy uÅ¼yciu potrÃ³jnych <code>&quot;</code>: <code>&quot;&quot;&quot;tekst&quot;&quot;&quot;</code>. W przeciwieÅ„stwie do zwykÅ‚ego tekstu taki tekst moÅ¼e zawieraÄ‡ znaki nowej linii.</li>
<li>Å»eby zapobiec wymieszaniu siÄ™ wciÄ™cia kodu i wciÄ™cia tekstu w wielolinijkowym tekÅ›cie, moÅ¼emy dodaÄ‡ znaki lewego marginesu <code>|</code> i uÅ¼yÄ‡ funkcji <code>.trimMargin()</code>.</li>
<li>Lista obiektÃ³w to <code>List&lt;â€¦&gt;</code>, moÅ¼na jÄ… utworzyÄ‡ funkcjÄ… <code>listOf()</code>. Typ podany pomiÄ™dzy <code>&lt;&gt;</code> okreÅ›la jakiego typu elementy zawiera nasza lista.</li>
<li>Po utworzeniu, listy nie moÅ¼na zmieniaÄ‡ â€“ nie moÅ¼na podmieniÄ‡ Å¼adnego z jej elementÃ³w, nie moÅ¼na teÅ¼ dodaÄ‡ ani usunÄ…Ä‡ Å¼adnego elementu. To jak kamienne tablice z wyrytym tekstem.</li>
<li>Lista, ktÃ³rÄ… moÅ¼na zmieniaÄ‡ to <code>MutableList&lt;â€¦&gt;</code>, tworzona funkcjÄ… <code>mutableListOf()</code>. PorÃ³wnaliÅ›my jÄ… do pociÄ…gu, do ktÃ³rego moÅ¼na doczepiaÄ‡ lub odczepiaÄ‡ wagony albo zmieniaÄ‡ zawartoÅ›Ä‡ wagonÃ³w.</li>
<li>Napisanie gry, nawet tak prostej jak &ldquo;KÃ³Å‚ko i KrzyÅ¼yk&rdquo;, wymaga wiele pracy ğŸ¥µ.</li>
</ul>
<h1 id="zadanie-do-domu">Zadanie do domu</h1>
<p>Emotka w tytule zadania odpowiada emotce, ktÃ³rÄ… powinniÅ›cie kliknÄ…Ä‡ na Slacku po wykonaniu zadania.</p>
<h2 id="-dokoÅ„czenie-kÃ³Å‚ka-i-krzyÅ¼yk">#ï¸âƒ£ DokoÅ„czenie &ldquo;KÃ³Å‚ka i KrzyÅ¼yk&rdquo;</h2>
<p>Do zrobienia zostaÅ‚a zamiana pseudokodu pomocniczych funkcji na normalny Kotlinowy kod. To teÅ¼ moÅ¼e nie byÄ‡ proste! JeÅ›li gdzieÅ› siÄ™ zaklinujecie, nie wstydÅºcie siÄ™ poprosiÄ‡ o pomoc.</p>
<h1 id="zadania-dodatkowe">Zadania dodatkowe</h1>
<p>Dla prawdziwie niestrudzonych, ktÃ³rych nie wymÄ™czy dostatecznie &ldquo;KÃ³Å‚ko i KrzyÅ¼yk&rdquo;. Zadania oznaczone â­ï¸ sÄ… nieco trudniejsze.</p>
<h2 id="1-lista-obecnoÅ›ci--wagarowicze">1ï¸âƒ£ Lista ObecnoÅ›ci â€“ Wagarowicze</h2>
<p>Program &ldquo;Lista ObecnoÅ›ci&rdquo; zawiera bÅ‚Ä…d: jeÅ›li zdarzyÅ‚oby siÄ™, Å¼e wszyscy uczniowie bÄ™dÄ… nieobecni, nasz program wysypie siÄ™, poniewaÅ¼ bÄ™dziemy usiÅ‚owali wylosowaÄ‡ element z pustej listy. Powstaje teÅ¼ niepokojÄ…ce pytanie: kto odpowiadaÅ‚ nauczycielowi podczas sprawdzania obecnoÅ›ci ğŸ‘»?</p>
<p>MoÅ¼ecie Å‚atwo powtÃ³rzyÄ‡ ten bÅ‚Ä…d, usuwajÄ…c linijkÄ™: <code>obecni.add(uczen)</code>. Postarajcie siÄ™ wykombinowaÄ‡ jak zmieniÄ‡ przebieg programu, Å¼eby reagowaÄ‡ na takÄ… sytuacjÄ™ w specjalny sposÃ³b:</p>
<p><img src="lista-obecnosci-wagarowicze.png" alt="Lista ObecnoÅ›ci - wagarowicze"></p>
<h2 id="2-odwrÃ³cona-zgadula-">2ï¸âƒ£ OdwrÃ³cona &ldquo;Zgadula&rdquo; â­ï¸</h2>
<p>Program zasugerowany przez Mieszka i Bartka na poprzednich zajÄ™ciach: odwrÃ³Ä‡my role, niech komputer stara siÄ™ odgadnÄ…Ä‡ liczbÄ™ wymyÅ›lonÄ… przez uÅ¼ytkownika:</p>
<p><img src="odwrocona-zgadula.png" alt="OdwrÃ³cona zgadula"></p>
<p>PamiÄ™tajcie o obsÅ‚udze pewnego specjalnego przypadku:</p>
<p><img src="odwrocona-zgadula-kanciarz.png" alt="Reakcja odwrÃ³conej zgaduli na kantujÄ…cego uÅ¼ytkownika"></p>
<h2 id="3-kÃ³Å‚ko-i-krzyÅ¼yk-single-player-vs-noob-">3ï¸âƒ£ KÃ³Å‚ko i KrzyÅ¼yk single player vs. noob â­ï¸</h2>
<p>PrzerÃ³bcie grÄ™ &ldquo;KÃ³Å‚ko i KrzyÅ¼yk&rdquo; tak, aby moÅ¼na byÅ‚o graÄ‡ przeciwko komputerowi. Nie musi to byÄ‡ bardzo wymagajÄ…cy przeciwnik: moÅ¼ecie losowaÄ‡ ruch komputera ze wszystkich dostÄ™pnych ruchÃ³w.</p>
<p><img src="xo-vs-noob.png" alt="KÃ³Å‚ko i KrzyÅ¼yk - gra przeciwko noobowi"></p>

</main>

  <footer>
  
  
  </footer>
  </body>
</html>

