<!DOCTYPE html>
<html lang="pl-pl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ZajÄ™cia 9: rysowanie w kolorze | jerz.codes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">ğŸ </a></li>
      
      <li><a href="/zapisy/">Zapisy</a></li>
      
      <li><a href="/faq/">FAQ</a></li>
      
      <li><a href="/kontakt/">Kontakt</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">ZajÄ™cia 9: rysowanie w kolorze</span></h1>

<h2 class="date">2022/12/20</h2>
</div>

<main>
<div>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#omÃ³wienie-zadania-trÃ³jkÄ…thahahugoshortcodes1hbhb">OmÃ³wienie zadania: <a href="https://jerz.codes/posts/2022-12-06/##-rysowanie-trÃ³jkÄ…t-">TrÃ³jkÄ…t</a></a></li>
    <li><a href="#nowy-materiaÅ‚">Nowy materiaÅ‚</a>
      <ul>
        <li><a href="#rysowanie-w-kolorze">Rysowanie w kolorze</a></li>
        <li><a href="#narzÄ™dzie-ansi">NarzÄ™dzie <code>Ansi</code></a>
          <ul>
            <li><a href="#object-vs-class"><code>object</code> vs. <code>class</code></a></li>
            <li><a href="#dygresja-dlaczego-return-zamiast-print">Dygresja: dlaczego <code>return</code> zamiast <code>print</code>?</a></li>
          </ul>
        </li>
        <li><a href="#pozostaÅ‚e-funkcje-w-narzÄ™dziu-ansi">PozostaÅ‚e funkcje w narzÄ™dziu Ansi</a></li>
        <li><a href="#choinka">Choinka</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>
<h1 id="omÃ³wienie-zadania-trÃ³jkÄ…thahahugoshortcodes1hbhb">OmÃ³wienie zadania: <a href="https://jerz.codes/posts/2022-12-06/##-rysowanie-trÃ³jkÄ…t-">TrÃ³jkÄ…t</a></h1>
<p>Zacznijmy od &ldquo;nudnych&rdquo; czÄ™Å›ci programu: wczytania wysokoÅ›ci trÃ³jkÄ…ta, sprawdzeniu, czy uÅ¼ytkownik nie wpisaÅ‚ gÅ‚upot, itp.:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>() = terminal {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Podaj wysokoÅ›Ä‡ trÃ³jkÄ…ta: &#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">val</span> wysokoÅ›Ä‡ = readln().toIntOrNull()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (wysokoÅ›Ä‡ <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> wysokoÅ›Ä‡ &gt; <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// tu bÄ™dziemy rysowaÄ‡ coÅ› w ten deseÅ„:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// *******
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//  *****
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//   ***
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//    *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        println()
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ZauwaÅ¼cie nastÄ™pujÄ…cÄ… rzecz: kaÅ¼da linijka skÅ‚ada siÄ™ z nieparzystej liczby gwiazdek poprzedzonych spacjami. W kaÅ¼dej linii jest o jednÄ… spacjÄ™ wiÄ™cej i o dwie gwiazdki mniej niÅ¼ w poprzedniej. Zaczynamy od zera spacji i&hellip; no wÅ‚aÅ›nie, ilu gwiazdek?</p>
<p>Popatrzmy na dwa mniejsze trÃ³jkÄ…ty:</p>
<pre tabindex="0"><code>strona lewa         strona prawa

   ****                ****
    ***                ***
     **                **
      *                *
</code></pre><p>KaÅ¼da strona ma w pierwszej linijce tyle samo gwiazdek, ile wynosi wysokoÅ›Ä‡ trÃ³jkÄ…ta, przy czym jedna gwiazdka jest wspÃ³lna dla obu stron. Tak wiÄ™c w pierwszej linijce duÅ¼ego trÃ³jkÄ…ta, ktÃ³ry chcemy narysowaÄ‡ bÄ™dzie <code>(wysokoÅ›Ä‡ * 2) - 1</code> gwiazdek.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>() = terminal {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Podaj wysokoÅ›Ä‡ trÃ³jkÄ…ta: &#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">val</span> wysokoÅ›Ä‡ = readln().toIntOrNull()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (wysokoÅ›Ä‡ <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> wysokoÅ›Ä‡ &gt; <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">var</span> liczbaSpacji = <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">var</span> liczbaGwiazdek = (wysokoÅ›Ä‡ * <span style="color:#ae81ff">2</span>) - <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1.</span>.wysokoÅ›Ä‡) {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// wypisz spacje
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">// wypisz gwiazdki
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">// przejdÅº do nastÄ™pnej linijki
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                
</span></span><span style="display:flex;"><span>                liczbaSpacji <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                liczbaGwiazdek <span style="color:#f92672">-=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        println()
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Do utworzenia tekstu skÅ‚adajÄ…cego siÄ™ z powtÃ³rzeÅ„ tego samego znaku moÅ¼emy uÅ¼yÄ‡ funkcji <code>String.repeat(n: Int): String</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>() = terminal {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Podaj wysokoÅ›Ä‡ trÃ³jkÄ…ta: &#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">val</span> wysokoÅ›Ä‡ = readln().toIntOrNull()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (wysokoÅ›Ä‡ <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> wysokoÅ›Ä‡ &gt; <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">var</span> liczbaSpacji = <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">var</span> liczbaGwiazdek = (wysokoÅ›Ä‡ * <span style="color:#ae81ff">2</span>) - <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1.</span>.wysokoÅ›Ä‡) {
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">&#34; &#34;</span>.repeat(liczbaSpacji))
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">&#34;*&#34;</span>.repeat(liczbaGwiazdek))
</span></span><span style="display:flex;"><span>                println()
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                liczbaSpacji <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                liczbaGwiazdek <span style="color:#f92672">-=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        println()
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="nowy-materiaÅ‚">Nowy materiaÅ‚</h1>
<h2 id="rysowanie-w-kolorze">Rysowanie w kolorze</h2>
<p>Programy, ktÃ³re pisaliÅ›my do tej pory, zawsze wypisywaÅ‚y tekst z gÃ³ry na dÃ³Å‚, korzystajÄ…c tylko z jednego koloru czcionki, co bardzo ograniczaÅ‚o ich szatÄ™ graficznÄ…. Dobra wiadomoÅ›Ä‡ jest taka, Å¼e nasze narzÄ™dzie <code>terminal</code> obsÅ‚uguje drobnÄ… czÄ™Å›Ä‡ tzw. <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape codes</a>, ktÃ³re umoÅ¼liwiÄ… nam robienie nieco ciekawszych rzeczy. ZÅ‚a wiadomoÅ›Ä‡ jest taka, Å¼e korzystanie z nich jest doÅ›Ä‡ kÅ‚opotliwe.</p>
<p>Popatrzcie na nastÄ™pujÄ…cy program:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>() = terminal {
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34;Ten tekst zaraz zniknie! NaciÅ›nij tylko enter...&#34;</span>)
</span></span><span style="display:flex;"><span>    readln()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u001b</span><span style="color:#e6db74">[2J&#34;</span>)
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34;Ha! A nie mÃ³wiÅ‚em!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Tekst <code>\u001b[2J</code> to &ldquo;magiczna&rdquo; komenda, ktÃ³rej wypisanie czyÅ›ci ekran i przesuwa kursor do lewego gÃ³rnego rogu.</p>
<p>Jej pierwsza czÄ™Å›Ä‡, <code>\u001b</code> to pojedynczy znak, tylko zapisany w specjalny sposÃ³b. KaÅ¼dy znak, ktÃ³ry wypisujemy na ekran, ma przypisanÄ… do siebie liczbÄ™. Na przykÅ‚ad literka <code>A</code> ma przypisany numer <code>65</code>. Zamiast <code>print('A')</code> moÅ¼emy teÅ¼ napisaÄ‡ <code>print('\u0041')</code>. <code>\u</code> oznacza &ldquo;nastÄ™pne cztery znaki potraktuj jako liczbÄ™ w systemie szesnastkowym&rdquo;. <code>0041</code> w systemie szesnastkowym to wÅ‚aÅ›nie <code>65</code> w systemie dziesiÄ™tnym, wiÄ™c <code>print('\u0041')</code> wypisze na ekran literkÄ™ <code>A</code>.</p>
<p>OczywiÅ›cie nikt o zdrowych zmysÅ‚ach nie bÄ™dzie uÅ¼ywaÅ‚ tego sposobu do zapisu zwykÅ‚ego tekstu, ale moÅ¼e byÄ‡ on przydatny, jeÅ›li bÄ™dziemy chcieli zmusiÄ‡ komputer do wypisania na ekran jakiegoÅ› znaku, ktÃ³rego nie da siÄ™ wpisaÄ‡ z klawiatury. <code>\u001b</code> z naszej &ldquo;magicznej&rdquo; komendy to wÅ‚aÅ›nie tego rodzaju znak: <code>1b</code> to kod znaku &ldquo;Escape&rdquo;, od ktÃ³rego zaczynajÄ… siÄ™ wszystkie ANSI escape codes, czyli nasze &ldquo;magiczne&rdquo; terminalowe komendy:</p>
<ul>
<li>wspomniane wczeÅ›niej czyszczenie obrazu: <code>\u001b[2J</code></li>
<li>zmiana koloru czcionki: <code>\u001b[38;2;r;g;bm</code> (gdzie <code>r</code>, <code>g</code> i <code>b</code> to liczby od 0 do 255, bÄ™dÄ…ce skÅ‚adowymi tego koloru)</li>
<li>zmiana koloru tÅ‚a: <code>\u001b[48;2;r;g;bm</code></li>
<li>przywrÃ³cenie domyÅ›lnego koloru czcionki: <code>\u001b[39m</code></li>
<li>przywrÃ³cenie domyÅ›lnego koloru tÅ‚a: <code>\u001b[49m</code></li>
<li>przywrÃ³cenie domyÅ›lnych kolorÃ³w: <code>\u001b[0m</code></li>
<li>przesuniÄ™cie kursora: <code>\u001b[y;xH</code> (gdzie y i x to wspÃ³Å‚rzÄ™dne kursora; lewy-gÃ³rny rÃ³g to punkt <code>[1, 1]</code>)</li>
<li>ukrycie kursora: <code>\u001b[?25l</code></li>
<li>pokazanie kursora: <code>\u001b[?25h</code></li>
</ul>
<p>Å»eby nie musieÄ‡ pamiÄ™taÄ‡ tych cudacznych sekwencji, napiszemy nasze pierwsze narzÄ™dzie, a przy okazji nauczymy siÄ™ kilku nowych rzeczy.</p>
<h2 id="narzÄ™dzie-ansi">NarzÄ™dzie <code>Ansi</code></h2>
<p>Na dobry poczÄ…tek stwÃ³rzmy osobny plik z funkcjÄ…, ktÃ³ra zwrÃ³ci komendÄ™ ANSI do czyszczenia ekranu:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">package</span> jerz.codes.narzedzia
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wyczyÅ›Ä‡Ekran</span>(): String {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u001b</span><span style="color:#e6db74">[2J&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Jest to bardzo prosta funkcja skÅ‚adajÄ…ca siÄ™ tylko z jednego wyraÅ¼enia <code>return</code>. Kotlin oferuje specjalnÄ… skÅ‚adniÄ™ dla takich przypadkÃ³w. MoÅ¼emy zmieniÄ‡ naszÄ… funkcjÄ™ w nastÄ™pujÄ…cy sposÃ³b:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wyczyÅ›Ä‡Ekran</span>(): String = <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u001b</span><span style="color:#e6db74">[2J&#34;</span>
</span></span></code></pre></div><p>A poniewaÅ¼ na pierwszy rzut oka widaÄ‡, Å¼e ta funkcja zwraca tekst, moÅ¼emy pominÄ…Ä‡ <code>: String</code> i skrÃ³ciÄ‡ to jeszcze bardziej do <code>fun wyczyÅ›Ä‡Ekran() = &quot;\u001b[2J&quot;</code>.</p>
<p>DziÄ™ki temu nasz program stanie siÄ™ nieco czytelniejszy:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>() = terminal {
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34;Ten tekst zaraz zniknie! NaciÅ›nij tylko enter...&#34;</span>)
</span></span><span style="display:flex;"><span>    readln()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    print(wyczyÅ›Ä‡Ekran())
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34;Ha! A nie mÃ³wiÅ‚em!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>BÄ™dziemy mieli wiÄ™cej takich funkcji i dobrze byÅ‚oby je jakoÅ› pogrupowaÄ‡, Å¼eby Å‚atwo byÅ‚o je znaleÅºÄ‡. Zacznijmy od czegoÅ› takiego:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">package</span> jerz.codes.narzedzia
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Ansi</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wyczyÅ›Ä‡Ekran</span>(): String = <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u001b</span><span style="color:#e6db74">[2J&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>StworzyliÅ›my wÅ‚aÅ›nie nowy typ <code>Ansi</code>, dziÄ™ki czemu wszystkie powiÄ…zane metody bÄ™dÄ… w jednym miejscu i IntelliJ po napisaniu <code>Ansi().</code> bÄ™dzie wyÅ›wietlaÅ‚ wszystkie dostÄ™pne w naszym narzÄ™dziu funkcje. SposÃ³b uÅ¼ycia nie jest jednak idealny:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>println(<span style="color:#e6db74">&#34;To zaraz zniknie! NaciÅ›nij enter...&#34;</span>)
</span></span><span style="display:flex;"><span>readln()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(Ansi().wyczyÅ›Ä‡Ekran())
</span></span><span style="display:flex;"><span>println(<span style="color:#e6db74">&#34;Ha! A nie mÃ³wiÅ‚em!&#34;</span>)
</span></span></code></pre></div><p><code>Ansi</code> to typ danych, i za kaÅ¼dym razem, kiedy chcemy uÅ¼yÄ‡ jakiejÅ› funkcji zdefiniowanej w tym typie, musimy stworzyÄ‡ obiekt tego typu przy uÅ¼yciu konstruktora <code>Ansi()</code>. WprowadÅºmy drobnÄ… zmianÄ™:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">package</span> jerz.codes.narzedzia
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">object</span> <span style="color:#a6e22e">Ansi</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wyczyÅ›Ä‡Ekran</span>(): String = <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u001b</span><span style="color:#e6db74">[2J&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>SÅ‚Ã³wko <code>object</code> dziaÅ‚a podobnie jak <code>class</code> pod tym wzglÄ™dem, Å¼e teÅ¼ sÅ‚uÅ¼y ono do zdefiniowania nowego typu danych. RÃ³Å¼nica jest taka, Å¼e jednoczeÅ›nie tworzymy obiekt tego typu o nazwie takiej samej jak nazwa typu. Ponadto nie da siÄ™ utworzyÄ‡ innych obiektÃ³w tego typu: <code>object Ansi</code> oznacza, Å¼e jest tylko jeden obiekt typu <code>Ansi</code>, i nazywa siÄ™ on <code>Ansi</code>. Upraszcza to nieco jego uÅ¼ycie:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>println(<span style="color:#e6db74">&#34;To zaraz zniknie! NaciÅ›nij enter...&#34;</span>)
</span></span><span style="display:flex;"><span>readln()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#a6e22e">Ansi</span>.wyczyÅ›Ä‡Ekran()) <span style="color:#75715e">// nie ma nawiasÃ³w `()` po `Ansi`
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>println(<span style="color:#e6db74">&#34;Ha! A nie mÃ³wiÅ‚em!&#34;</span>)
</span></span></code></pre></div><h3 id="object-vs-class"><code>object</code> vs. <code>class</code></h3>
<p>W zrozumieniu rÃ³Å¼nicy pomiÄ™dzy <code>object</code> i <code>class</code> moÅ¼e pomÃ³c wam nastÄ™pujÄ…cy przykÅ‚ad:</p>
<p><code>class KrzesÅ‚oZIkei</code> to takie krzesÅ‚o, ktÃ³re jest masowo produkowane w fabryce. Dowolny egzemplarz krzesÅ‚a nie rÃ³Å¼ni siÄ™ szczegÃ³lnie od innych.</p>
<p><code>object UnikatoweKrzesÅ‚oMisternieWystruganePrzezWujkaWÅ‚adkaWJegoWarsztaciku</code> to jedyne w swoim rodzaju krzesÅ‚o. Nie ma drugiego takiego krzesÅ‚a, nawet gdyby wujaszek bardzo siÄ™ postaraÅ‚, co najwyÅ¼ej wyjdzie mu <code>object ZupeÅ‚nieInneUnikatoweKrzesÅ‚oWÅ‚adkowejProdukcji</code>.</p>
<h3 id="dygresja-dlaczego-return-zamiast-print">Dygresja: dlaczego <code>return</code> zamiast <code>print</code>?</h3>
<p>MoÅ¼ecie siÄ™ zastanawiaÄ‡, dlaczego nasza funkcja <code>wyczyÅ›Ä‡Ekran</code> zwraca komendÄ™ do czyszczenia obrazu, zamiast od razu wypisaÄ‡ jÄ… na ekran przy uÅ¼yciu <code>print</code>&lsquo;a. BÄ™dzie nam to potrzebne na pÃ³Åºniejszych zajÄ™ciach, gdy bÄ™dziemy zajmowaÄ‡ siÄ™ animacjami.</p>
<h2 id="pozostaÅ‚e-funkcje-w-narzÄ™dziu-ansi">PozostaÅ‚e funkcje w narzÄ™dziu Ansi</h2>
<p>Dodajmy metodÄ™ do zmiany koloru tekstu:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">package</span> jerz.codes.narzedzia
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">object</span> <span style="color:#a6e22e">Ansi</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wyczyÅ›Ä‡Ekran</span>(): String = <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u001b</span><span style="color:#e6db74">[2J&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">kolorTekstu</span>(kolor: Color?) = <span style="color:#960050;background-color:#1e0010">â€¦</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>UÅ¼yÅ‚em tutaj typu <code>Color</code>, ktÃ³ry musimy zaimportowaÄ‡ (bÄ™dzie siÄ™ on &ldquo;Å›wieciÄ‡&rdquo; na czerwono; po najechaniu na ten tekst kursorem moÅ¼emy nacisnÄ…Ä‡ <code>Alt + Enter</code>, a IntelliJ doda na gÃ³rze pliku linijkÄ™ <code>import java.awt.Color</code>). Jest to typ dostÄ™pny w standardowych bibliotekach (tak jak <code>List</code>, <code>IntRange</code>, itp.) i proÅ›ciej skorzystaÄ‡ z niego niÅ¼ pisaÄ‡ od zera wÅ‚asny.</p>
<p>Å»eby utworzyÄ‡ obiekt typu <code>Color</code>, moÅ¼emy uÅ¼yÄ‡ konstruktora <code>Color(r: Int, g: Int, b: Int)</code>, ktÃ³ry
przyjmuje trzy skÅ‚adowe koloru w postaci liczb z przedziaÅ‚u od <code>0</code> do <code>255</code>. JeÅ›li podany <code>kolor</code> bÄ™dzie <code>null</code>em, przywrÃ³cimy domyÅ›lny kolor tekstu sekwencjÄ… <code>\u001b[39m</code>. W przeciwnym razie
uÅ¼yjemy sekwencji <code>\u001b[38;2;r;g;bm</code>, zastÄ™pujÄ…c <code>r</code>, <code>g</code> i <code>b</code> wartoÅ›ciami wyciÄ…gniÄ™tymi z obiektu <code>kolor</code> przy uÅ¼yciu <code>kolor.red</code>, <code>kolor.blue</code> itd.:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">package</span> jerz.codes.narzedzia
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">object</span> <span style="color:#a6e22e">Ansi</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">wyczyÅ›Ä‡Ekran</span>() = <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u001b</span><span style="color:#e6db74">[2J&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">kolorTekstu</span>(kolor: Color?) = <span style="color:#66d9ef">when</span> (kolor) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">null</span> <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u001b</span><span style="color:#e6db74">[39m&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u001b</span><span style="color:#e6db74">[38;2;</span><span style="color:#e6db74">${kolor.red}</span><span style="color:#e6db74">;</span><span style="color:#e6db74">${kolor.green}</span><span style="color:#e6db74">;</span><span style="color:#e6db74">${kolor.blue}</span><span style="color:#e6db74">m&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>PozostaÅ‚e funkcje dopiszcie sami!</p>
<h2 id="choinka">Choinka</h2>
<p>MoÅ¼emy troszkÄ™ pozmieniaÄ‡ program &ldquo;TrÃ³jkÄ…t&rdquo;, aby wypisaÄ‡ na ekran kolorowÄ… choinkÄ™:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>() = terminal {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> wysokoÅ›Ä‡Choinki = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// narysuj gwiazdkÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    print(<span style="color:#a6e22e">Ansi</span>.kolorTekstu(<span style="color:#a6e22e">Color</span>.YELLOW))
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34; &#34;</span>.repeat(wysokoÅ›Ä‡Choinki) + <span style="color:#e6db74">&#34; * &#34;</span>)
</span></span><span style="display:flex;"><span>    println()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// narysuj gaÅ‚Ä…zki
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> liczbaSpacji = wysokoÅ›Ä‡Choinki
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> liczbaGaÅ‚Ä…zek = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#a6e22e">Ansi</span>.kolorTekstu(Color(<span style="color:#ae81ff">26</span>, <span style="color:#ae81ff">80</span>, <span style="color:#ae81ff">26</span>)))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1.</span>.wysokoÅ›Ä‡Choinki) {
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34; &#34;</span>.repeat(liczbaSpacji))
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;#&#34;</span>.repeat(liczbaGaÅ‚Ä…zek))
</span></span><span style="display:flex;"><span>        println()
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// poniewaÅ¼ rysujemy &#34;trÃ³jkÄ…t&#34; w drugÄ… stronÄ™,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// zmniejszamy liczbÄ™ spacji
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// i zwiÄ™kszamu liczbÄ™ gaÅ‚Ä…zek
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        liczbaSpacji <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        liczbaGaÅ‚Ä…zek <span style="color:#f92672">+=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// narysuj pieÅ„ i podstawkÄ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    print(<span style="color:#a6e22e">Ansi</span>.kolorTekstu(Color(<span style="color:#ae81ff">0x4F</span>, <span style="color:#ae81ff">0x39</span>, <span style="color:#ae81ff">0x08</span>)))
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34; &#34;</span>.repeat(wysokoÅ›Ä‡Choinki - <span style="color:#ae81ff">1</span>) + <span style="color:#e6db74">&#34; III &#34;</span>)
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34; &#34;</span>.repeat(wysokoÅ›Ä‡Choinki - <span style="color:#ae81ff">1</span>) + <span style="color:#e6db74">&#34; III &#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#a6e22e">Ansi</span>.kolorTekstu(<span style="color:#a6e22e">Color</span>.DARK_GRAY))
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34; &#34;</span>.repeat(wysokoÅ›Ä‡Choinki - <span style="color:#ae81ff">1</span>) + <span style="color:#e6db74">&#34;=====&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="choinka.png" alt=""></p>
<p>ZwrÃ³Ä‡cie uwagÄ™ na kilka rÃ³Å¼nych sposobÃ³w tworzenia obiektu typu <code>Color</code>:</p>
<ul>
<li>Do gwiazdki uÅ¼yliÅ›my staÅ‚ej bibliotecznej <code>Color.YELLOW</code></li>
<li>Dla igliwia podaliÅ›my skÅ‚adowe RGB jako liczby dziesiÄ™tne <code>Color(26, 80, 26)</code></li>
<li>Dla pnia podaliÅ›my skÅ‚adowe jako liczby szesnastkowe <code>Color(0x4F, 0x39, 0x08)</code></li>
</ul>

</main>

  <footer>
  
  
  </footer>
  </body>
</html>

